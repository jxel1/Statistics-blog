---
layout: post
title: "Homework 10: Interactive Simulation and Analysis of a Counting Process"
date: 2025-11-15
---


This page simulates a counting process over a time interval \(T\) where events occur independently and uniformly at a constant average rate \(\lambda\). It uses a Bernoulli approximation and visualizes the results interactively.

---

## Simulation Parameters

Adjust the parameters below and click **Update Simulation**:

<div>
  <label for="lambda">Rate Î»:</label>
  <input type="number" id="lambda" value="3" step="0.1" min="0">
  <label for="T">Time Interval T:</label>
  <input type="number" id="T" value="1" step="0.1" min="0.1">
  <label for="n">Subintervals n:</label>
  <input type="number" id="n" value="5000" step="100" min="10">
  <button onclick="runSimulation()">Update Simulation</button>
</div>

<canvas id="cumulativeChart" width="800" height="400"></canvas>
<canvas id="histChart" width="800" height="400"></canvas>

---

## Interactive Simulation Script

```html
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
let cumulativeChart, histChart;

function runSimulation() {
  // Get parameters
  const lambda = parseFloat(document.getElementById('lambda').value);
  const T = parseFloat(document.getElementById('T').value);
  const n = parseInt(document.getElementById('n').value);
  const p = lambda / n;

  // Generate events
  let events = [];
  for (let i = 0; i < n; i++) events.push(Math.random() < p ? 1 : 0);

  // Cumulative counts
  let cumulative = [];
  let sum = 0;
  for (let i = 0; i < events.length; i++) {
    sum += events[i];
    cumulative.push(sum);
  }

  // Interarrival times
  let indices = events.map((e,i)=>e?i:-1).filter(i=>i>=0);
  let interarrival = [];
  for (let i = 1; i < indices.length; i++) {
    interarrival.push((indices[i]-indices[i-1])*T/n);
  }

  // Histogram bins
  function getBins(data, binCount){
    const min = Math.min(...data), max=Math.max(...data);
    const binWidth = (max-min)/binCount;
    let bins = Array(binCount).fill(0);
    data.forEach(v => { bins[Math.min(Math.floor((v-min)/binWidth), binCount-1)]++; });
    let labels = Array.from({length: binCount}, (_, i) => (min+i*binWidth).toFixed(4));
    return {bins, labels};
  }
  const {bins, labels} = getBins(interarrival, 30);

  // Update cumulative chart
  if (cumulativeChart) cumulativeChart.destroy();
  cumulativeChart = new Chart(document.getElementById('cumulativeChart'), {
    type: 'line',
    data: {
      labels: Array.from({length:n},(_,i)=>(i*T/n).toFixed(4)),
      datasets: [{label:'Cumulative Count', data: cumulative, borderColor:'blue', fill:true, pointRadius:0, tension:0}]
    },
    options: {
      responsive:true,
      scales: {
        x: { title:{display:true,text:'Time'} },
        y: { title:{display:true,text:'Cumulative Count'} }
      }
    }
  });

  // Update histogram chart
  if (histChart) histChart.destroy();
  histChart = new Chart(document.getElementById('histChart'), {
    type:'bar',
    data: {
      labels: labels,
      datasets:[{label:'Interarrival Frequency', data: bins, backgroundColor:'rgba(255,0,0,0.5)'}]
    },
    options:{
      responsive:true,
      scales:{
        x:{ title:{display:true,text:'Interarrival Time'} },
        y:{ title:{display:true,text:'Frequency'} }
      }
    }
  });
}

// Initial simulation
runSimulation();
</script>
