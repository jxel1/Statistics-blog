---
layout: post
title: "Homework 10: Interactive Simulation and Analysis of a Counting Process"
date: 2025-11-19
---

# Simulation of a Counting Process

We simulate a counting process over a time interval \(T = 1\), where events occur independently and uniformly at a constant average rate \(\lambda\). The interval is divided into \(n\) small subintervals, generating an event in each with probability \(\lambda/n\).

## Interactive Simulation

<div style="width:100%; max-width:800px;">
  <canvas id="countingChart"></canvas>
</div>

<label for="lambda">Rate (Î»): </label>
<input type="number" id="lambda" value="5" step="0.1" min="0">
<label for="n">Subintervals (n): </label>
<input type="number" id="n" value="5000" step="100">
<button onclick="simulate()">Simulate</button>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  const button = document.querySelector('button');
  
  function simulate() {
    const lambda = parseFloat(document.getElementById('lambda').value);
    const n = parseInt(document.getElementById('n').value);
    const T = 1;
    const dt = T/n;
    
    let cumulativeCounts = [];
    let count = 0;
    for (let i = 0; i < n; i++) {
      if (Math.random() < lambda/n) count += 1;
      cumulativeCounts.push(count);
    }

    const labels = Array.from({length: n}, (_, i) => ((i+1)*dt).toFixed(4));

    if (window.countingChart instanceof Chart) {
      window.countingChart.data.labels = labels;
      window.countingChart.data.datasets[0].data = cumulativeCounts;
      window.countingChart.update();
    } else {
      const ctx = document.getElementById('countingChart').getContext('2d');
      window.countingChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [{
            label: 'Cumulative Count',
            data: cumulativeCounts,
            borderColor: 'rgba(75, 192, 192, 1)',
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            fill: true,
            tension: 0.1
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: true },
            title: { display: true, text: 'Counting Process Simulation' }
          },
          scales: {
            x: { title: { display: true, text: 'Time' } },
            y: { title: { display: true, text: 'Cumulative Count' }, beginAtZero: true }
          }
        }
      });
    }
  }

  button.addEventListener('click', simulate);
  simulate();
});
</script>

# Extended Analysis

The simulation implements a Bernoulli approximation to a Poisson process. Over \(n\) subintervals of width \(dt = T/n\), each step produces an event with probability \(\lambda dt\). As \(n\) increases, the probability of multiple events inside a subinterval becomes negligible, giving the continuous-time limit.

## Distributional Structure

For fixed \(T\), the total event count \(N(T)\) converges to a \(\text{Poisson}(\lambda T)\) distribution. Mean and variance both equal \(\lambda T\). The simulated cumulative curve fluctuates around slope \(\lambda\), with variability proportional to time due to linear growth of variance.

## Increment Properties

For any \(0 \le s < t \le T\), the increment \(N(t) - N(s)\) converges to \(\text{Poisson}(\lambda (t-s))\). Independence of increments follows from independence of Bernoulli trials in disjoint sets of subintervals. This defines the standard Poisson process among stationary counting processes.

## Convergence Mechanism

Let \(p_n = \lambda/n\). The total count is \(\text{Binomial}(n, p_n)\). As \(n \to \infty\):

\[
\binom{n}{k} p_n^k (1-p_n)^{n-k}
\to e^{-\lambda} \frac{\lambda^k}{k!}.
\]

This yields the Poisson probabilities and the exponential waiting-time law. Waiting time to the first event becomes an exponential random variable in the limit because the discrete geometric distribution rescales under \(dt \to 0\).

## Sensitivity to Parameters

Larger \(\lambda\) increases both the expected trajectory and the amplitude of fluctuations. If \(n\) is small, the approximation breaks: the model becomes under-dispersed because the binomial distribution cannot generate multiple events in a single subinterval, biasing results downward relative to a true Poisson process.

## Path-Level Characteristics

The process is nondecreasing, right-continuous, and jumps by exactly one. Larger \(n\) increases temporal resolution, producing a staircase curve that approximates the continuous-time limit. The law of large numbers drives the near-linear trend, while the central limit theorem governs deviations from that trend.

## Additional Analytical Components

- Empirical histogram of \(N(T)\) over repeated runs compared with the Poisson pmf.  
- Extraction of jump times to form an empirical inter-arrival distribution and comparison with the exponential density.  
- Computation of sample dispersion \( \text{Var}(N(T))/\mathbb{E}[N(T)] \); convergence to 1 indicates Poisson behavior.

This expansion converts the assignment into a full theoretical and empirical exploration of the Poisson process generated through discrete Bernoulli approximation.
