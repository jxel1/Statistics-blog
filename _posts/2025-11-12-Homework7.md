---
title: "Homework 7: Random Walk of Server Security"
layout: post
date: 2025-11-12
---

## Random Walk Interpretation of Server Security

A server faces weekly security updates for `n` weeks, with `m` attackers per week.  
Each attacker breaches independently with probability `p`.  
If the server survives a week → **+1**, if breached → **–1**.  
We simulate many trajectories of total cumulative scores and compare the empirical distribution with the theoretical **Binomial-derived** distribution.

---

### Interactive Simulation

Set parameters below and visualize how the distribution of total scores converges to the theoretical curve as the number of trajectories increases.

```html
<div style="margin-bottom:10px;">
  <label>Weeks (n): </label><input id="weeks" type="number" value="20" min="1" max="200" step="1" style="width:60px;margin-right:15px;">
  <label>Attackers per week (m): </label><input id="attackers" type="number" value="3" min="1" max="100" step="1" style="width:60px;margin-right:15px;">
  <label>Success probability (p): </label><input id="prob" type="number" value="0.05" min="0" max="1" step="0.01" style="width:60px;margin-right:15px;">
  <label>Simulations: </label><input id="sims" type="number" value="20000" min="100" max="1000000" step="100" style="width:80px;margin-right:15px;">
  <button id="runSim">Run Simulation</button>
</div>

<div id="rw-dist"></div>

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script>
(function() {
  function binomial(n, k) {
    if (k < 0 || k > n) return 0;
    let res = 1;
    for (let i = 1; i <= k; i++) res *= (n - (k - i)) / i;
    return res;
  }

  function theoreticalDistribution(n, m, p) {
    const q = 1 - Math.pow(1 - p, m);
    const dist = [];
    for (let k = 0; k <= n; k++) {
      const score = n - 2 * k;
      const prob = binomial(n, k) * Math.pow(q, k) * Math.pow(1 - q, n - k);
      dist.push({ score, prob });
    }
    return dist;
  }

  function simulateDistribution(n, m, p, Nsim) {
    const q = 1 - Math.pow(1 - p, m);
    const counts = new Map();
    for (let i = 0; i < Nsim; i++) {
      let score = 0;
      for (let t = 0; t < n; t++) score += (Math.random() < q) ? -1 : 1;
      counts.set(score, (counts.get(score) || 0) + 1);
    }
    const dist = [];
    for (let s = -n; s <= n; s += 2)
      dist.push({ score: s, freq: (counts.get(s) || 0) / Nsim });
    return dist;
  }

  function plotDistributions(n, m, p, Nsim) {
    const sim = simulateDistribution(n, m, p, Nsim);
    const theo = theoreticalDistribution(n, m, p);

    const simTrace = {
      x: sim.map(d => d.score),
      y: sim.map(d => d.freq),
      type: "bar",
      name: "Simulated",
      marker: { color: "skyblue" }
    };

    const theoTrace = {
      x: theo.map(d => d.score),
      y: theo.map(d => d.prob),
      mode: "lines+markers",
      name: "Theoretical Binomial",
      line: { color: "red", width: 2 }
    };

    const layout = {
      title: `Distribution of Total Scores (n=${n}, m=${m}, p=${p}, sims=${Nsim})`,
      xaxis: { title: "Total Score (S = n - 2b)" },
      yaxis: { title: "Probability / Frequency" },
      plot_bgcolor: "black",
      paper_bgcolor: "black",
      font: { color: "white" }
    };

    Plotly.newPlot("rw-dist", [simTrace, theoTrace], layout);
  }

  document.getElementById("runSim").onclick = () => {
    const n = +document.getElementById("weeks").value;
    const m = +document.getElementById("attackers").value;
    const p = +document.getElementById("prob").value;
    const Nsim = +document.getElementById("sims").value;
    plotDistributions(n, m, p, Nsim);
  };

  // Initial render
  plotDistributions(20, 3, 0.05, 20000);
})();
</script>
