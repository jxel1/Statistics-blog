---
layout: post
title: "Homework 10: Interactive Simulation and Analysis of a Counting Process"
date: 2025-11-19
use_math: true
---

<script>
  MathJax = {
    tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
    svg: { fontCache: 'global' }
  };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

# Simulation of a Counting Process

We simulate a counting process on \(T = 1\). The interval is partitioned into \(n\) steps of width \(dt = T/n\). Each step generates a Bernoulli trial with probability \(\lambda dt\).

## Interactive Simulation

<div style="width:100%; max-width:800px;">
  <canvas id="countingChart"></canvas>
</div>

<label for="lambda">Rate (Î»): </label>
<input type="number" id="lambda" value="5" step="0.1" min="0">
<label for="n">Subintervals (n): </label>
<input type="number" id="n" value="5000" step="100">
<button onclick="simulate()">Simulate</button>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  const button = document.querySelector('button');
  
  function simulate() {
    const lambda = parseFloat(document.getElementById('lambda').value);
    const n = parseInt(document.getElementById('n').value);
    const T = 1;
    const dt = T/n;
    
    let cumulativeCounts = [];
    let count = 0;
    for (let i = 0; i < n; i++) {
      if (Math.random() < lambda/n) count += 1;
      cumulativeCounts.push(count);
    }

    const labels = Array.from({length: n}, (_, i) => ((i+1)*dt).toFixed(4));

    if (window.countingChart instanceof Chart) {
      window.countingChart.data.labels = labels;
      window.countingChart.data.datasets[0].data = cumulativeCounts;
      window.countingChart.update();
    } else {
      const ctx = document.getElementById('countingChart').getContext('2d');
      window.countingChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [{
            label: 'Cumulative Count',
            data: cumulativeCounts,
            borderColor: 'rgba(75, 192, 192, 1)',
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            fill: true,
            tension: 0.1
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: true },
            title: { display: true, text: 'Counting Process Simulation' }
          },
          scales: {
            x: { title: { display: true, text: 'Time' } },
            y: { title: { display: true, text: 'Cumulative Count' }, beginAtZero: true }
          }
        }
      });
    }
  }

  button.addEventListener('click', simulate);
  simulate();
});
</script>

# Extended Analysis

The model uses Bernoulli thinning to approximate a Poisson process. As \(n \to \infty\), dependence on discretization disappears.

## Distributional Structure

The total count \(N(T)\) satisfies

$$
\mathbb{E}[N(T)] = \lambda T, \qquad \mathrm{Var}(N(T)) = \lambda T.
$$

As \(n\) increases, the simulation stabilizes around a trajectory with slope \(\lambda\).

## Increment Properties

For any \(s<t\),

$$
N(t) - N(s) \sim \mathrm{Poisson}(\lambda (t-s)).
$$

Independence of increments arises because disjoint sets of Bernoulli trials remain independent.

## Convergence Mechanism

Using \(p_n = \lambda/n\), the discrete count is binomial. The convergence

$$
\binom{n}{k} p_n^k (1 - p_n)^{n-k}
\to e^{-\lambda}\frac{\lambda^k}{k!}
$$

establishes the Poisson limit. Waiting times converge because

$$
(1 - \lambda dt)^{t/dt} \to e^{-\lambda t},
$$

yielding exponential inter-arrival distributions.

## Parameter Sensitivity

Larger \(\lambda\) increases mean rate and spread. Small \(n\) violates the one-event-per-interval assumption, producing under-dispersion.

## Path-Level Characteristics

The process is right-continuous, nondecreasing, and jumps by one. Large \(n\) creates a staircase approximating the continuous limit. Mean-rate convergence follows:

$$
\frac{N(t)}{t} \to \lambda.
$$

Fluctuation scaling:

$$
\frac{N(t) - \lambda t}{\sqrt{\lambda t}} \Rightarrow \mathcal{N}(0,1).
$$

## Additional Analytical Components

Empirical distribution of \(N(T)\) can be compared with

$$
\Pr(N(T)=k) = e^{-\lambda T}\frac{(\lambda T)^k}{k!}.
$$

Inter-arrival estimates can be compared against the density

$$
f(t) = \lambda e^{-\lambda t}.
$$

Dispersion check:

$$
D = \frac{\mathrm{Var}(N(T))}{\mathbb{E}[N(T)]}.
$$

Convergence of \(D\) to 1 confirms Poisson behavior.
